<link href="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/css/bootstrap.min.css" rel="stylesheet" id="bootstrap-css" />
<script src="//maxcdn.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<!------ Include the above in your HEAD tag ------->

<nav class="navbar navbar-icon-top navbar-expand-lg navbar-dark bg-dark" *ngIf="isLogged">
    <a class="navbar-brand" style="color: white;">LPH</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

    <div class="collapse navbar-collapse" id="navbarSupportedContent">
        <ul class="navbar-nav mr-auto">
            <li class="nav-item active">
                <a class="nav-link" href="/home">
                    <em class="fa fa-home"></em> Inicio
                    <span class="sr-only">(current)</span>
                </a>
            </li>
            <li class="dropdown" style="margin-top: 20%; margin-inline-start: 10%;">
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                    <span class="glyphicon glyphicon-user"></span>
                    <strong>Perfil</strong>
                    <span class="glyphicon glyphicon-chevron-down"></span>
                </a>
                <ul class="dropdown-menu">
                    <li>
                        <div class="navbar-login">
                            <div class="row">
                                <div class="col-lg-4">
                                    <p class="text-center">
                                        <img [src]='profilePhoto' alt="image profile here" width="100" height="100">
                                    </p>
                                </div>
                                <div class="col-lg-8">
                                    <p class="text-left">
                                        <strong>{{ fullName }}</strong>
                                    </p>
                                    <p class="text-left">
                                        <a routerLink="/myprofile" class="btn btn-primary btn-block btn-sm">Ir a mi perfil</a
                    >
                  </p>
                </div>
              </div>
            </div>
          </li>
          <li class="divider"></li>
          <li>
            <div class="navbar-login navbar-login-session">
              <div class="row">
                <div class="col-lg-12">
                  <p>
                    <a href="/logout" (click)="logout()" class="btn btn-danger btn-block"
                      >Cerrar Sesion</a
                    >
                  </p>
                </div>
              </div>
            </div>
          </li>
        </ul>
      </li>
    </ul>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" href="javascript:void(0)" (click)="resetMessages()">
          <em class="fa fa-envelope-o">
            <span class="badge badge-danger" *ngIf="newMessages !== 0">{{ newMessages }}</span>
          </em>
          Mensajes
        </a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="javascript:void(0)" (click)="openNotifications(notificationsModal)">
                            <em class="fa fa-bell">
            <span class="badge badge-danger" *ngIf="numOfNotifications !== 0">{{
              numOfNotifications
            }}</span>
          </em> Notificaciones
                        </a>
                    </li>
                </ul>
                <form class="form-inline my-2 my-lg-0" (ngSubmit)="search(f)" #f="ngForm">
                    <input class="form-control mr-sm-2" type="text" name="searchText" id="searchText" placeholder="Buscar" aria-label="Search" ngModel />
                    <button routerLink="/searchResults" class="btn btn-outline-success my-2 my-sm-0" type="submit">
        Buscar
      </button>
                </form>
                </div>
</nav>

<ng-template #notificationsModal>
    <nav class="modalBody">
        <button type="button" class="close" aria-label="Close" (click)="resetNotifications(notificationsModal)">
      <span aria-hidden="true">&times;</span>
    </button>
        <h4 class="modal-title">Notificaciones</h4>

        <div>
            <div class="modalBody" *ngIf="numOfNotifications == 0">
                <a>No tienes notificaciones nuevas :)</a>
            </div>
            <div class="modalBody" *ngIf="newLikes != 0">
                <a>Tienes un Me gusta nuevo</a>
            </div>
            <div class="modalBody" *ngIf="newComments != 0">
                <a>Tienes un comentario nuevo</a>
            </div>
            <div class="modalBody" *ngIf="newFollower != 0">
                <a>Tienes un seguidor nuevo</a>
            </div>
        </div>
    </nav>
</ng-template>